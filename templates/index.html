<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Calc Speed Challenge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-900 text-white min-h-screen flex items-center justify-center">

<!-- USERNAME SCREEN -->
<div id="username-screen" class="text-center">
  <h1 class="text-3xl mb-4">âš¡ Calc Speed Challenge</h1>
  <p class="mb-3 text-slate-300">Boost your calculation speed</p>

  <input
    id="username-input"
    class="p-3 rounded text-black w-64 text-center"
    placeholder="Enter your name"
    onkeydown="if(event.key==='Enter') saveUsername()"
  >

  <button
    class="ml-2 bg-green-500 px-4 py-2 rounded text-black"
    onclick="saveUsername()">
    Start
  </button>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden text-center">
  <h2 id="welcome-text" class="text-xl mb-2"></h2>

  <div class="mb-2">
    Total Points: <span id="total-points" class="font-bold"></span>
  </div>

  <div class="space-y-2">
    <button
      onclick="showLevelMap()"
      class="bg-blue-500 px-5 py-2 rounded w-48">
      ğŸ—º Level Map
    </button>

    <button
      onclick="showLeaderboard()"
      class="bg-purple-500 px-5 py-2 rounded w-48">
      ğŸ† Leaderboard
    </button>
  </div>
</div>

<!-- LEVEL MAP -->
<div id="level-map" class="hidden text-center w-full max-w-md">
  <h2 class="text-xl mb-3">ğŸ—º Levels</h2>

  <div id="levels-container" class="grid grid-cols-5 gap-3 mb-4"></div>

  <button
    onclick="goDashboard()"
    class="bg-gray-600 px-4 py-2 rounded">
    â¬… Back
  </button>
</div>

<!-- GAME SCREEN -->
<div id="game-screen" class="hidden w-full max-w-md">

  <!-- TOP BAR -->
  <div class="flex justify-between items-center mb-2">
    <div>
      <div id="level" class="font-bold"></div>
      <div id="score" class="text-sm"></div>
    </div>

    <!-- CIRCULAR TIMER -->
    <div class="relative w-16 h-16">
      <svg class="transform -rotate-90" width="64" height="64">
        <circle cx="32" cy="32" r="28"
                stroke="#334155" stroke-width="6" fill="none"/>
        <circle id="timer-circle" cx="32" cy="32" r="28"
                stroke="#22c55e" stroke-width="6" fill="none"
                stroke-dasharray="176" stroke-dashoffset="0"/>
      </svg>
    </div>
  </div>

  <!-- PROGRESS -->
  <div id="progress" class="text-center text-sm mb-2"></div>

  <!-- QUESTION -->
  <div id="question" class="text-4xl text-center mb-4 font-bold"></div>

  <!-- ANSWER INPUT -->
  <input
    id="answer"
    type="text"
    inputmode="numeric"
    pattern="[0-9]*"
    class="w-full p-3 rounded text-black text-center text-xl"
    placeholder="Type answer"
    oninput="checkAnswer()"
  >
</div>

<!-- GAME OVER SCREEN -->
<div id="game-over-screen" class="hidden text-center w-full max-w-md">
  <h2 class="text-2xl mb-3">âŒ Game Over</h2>

  <p id="final-score" class="mb-4 whitespace-pre-line"></p>

  <button
    onclick="goDashboard()"
    class="bg-blue-500 px-4 py-2 rounded">
    Dashboard
  </button>
</div>

<!-- LEADERBOARD -->
<div id="leaderboard-screen" class="hidden text-center w-full max-w-md">
  <h2 class="text-xl mb-3">ğŸ† Leaderboard</h2>

  <ul id="leaderboard-list" class="mb-4 space-y-1"></ul>

  <button
    onclick="goDashboard()"
    class="bg-gray-600 px-4 py-2 rounded">
    â¬… Back
  </button>
</div>

<!-- SCRIPT -->
<script src="/static/js/app.js"></script>

</body>
</html>
